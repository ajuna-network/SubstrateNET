//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Ajuna.NetApi.Model.Types.Base;
using Ajuna.ServiceLayer.Attributes;
using Ajuna.ServiceLayer.Storage;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace SubstrateNET.RestService.Generated.Storage
{
    
    
    /// <summary>
    /// ILotteryStorage interface definition.
    /// </summary>
    public interface ILotteryStorage : IStorage
    {
        
        /// <summary>
        /// >> LotteryIndex
        /// </summary>
        Ajuna.NetApi.Model.Types.Primitive.U32 GetLotteryIndex();
        
        /// <summary>
        /// >> Lottery
        ///  The configuration for the current lottery.
        /// </summary>
        SubstrateNET.NetApi.Generated.Model.pallet_lottery.LotteryConfig GetLottery();
        
        /// <summary>
        /// >> Participants
        ///  Users who have purchased a ticket. (Lottery Index, Tickets Purchased)
        /// </summary>
        Ajuna.NetApi.Model.Types.Base.BaseTuple<Ajuna.NetApi.Model.Types.Primitive.U32, SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31> GetParticipants(string key);
        
        /// <summary>
        /// >> TicketsCount
        ///  Total number of tickets sold.
        /// </summary>
        Ajuna.NetApi.Model.Types.Primitive.U32 GetTicketsCount();
        
        /// <summary>
        /// >> Tickets
        ///  Each ticket's owner.
        /// 
        ///  May have residual storage from previous lotteries. Use `TicketsCount` to see which ones
        ///  are actually valid ticket mappings.
        /// </summary>
        SubstrateNET.NetApi.Generated.Model.sp_core.crypto.AccountId32 GetTickets(string key);
        
        /// <summary>
        /// >> CallIndices
        ///  The calls stored in this pallet to be used in an active lottery if configured
        ///  by `Config::ValidateCall`.
        /// </summary>
        SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31 GetCallIndices();
    }
    
    /// <summary>
    /// LotteryStorage class definition.
    /// </summary>
    public sealed class LotteryStorage : ILotteryStorage
    {
        
        /// <summary>
        /// _lotteryIndexTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Ajuna.NetApi.Model.Types.Primitive.U32> _lotteryIndexTypedStorage;
        
        /// <summary>
        /// _lotteryTypedStorage typed storage field
        /// </summary>
        private TypedStorage<SubstrateNET.NetApi.Generated.Model.pallet_lottery.LotteryConfig> _lotteryTypedStorage;
        
        /// <summary>
        /// _participantsTypedStorage typed storage field
        /// </summary>
        private TypedMapStorage<Ajuna.NetApi.Model.Types.Base.BaseTuple<Ajuna.NetApi.Model.Types.Primitive.U32, SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31>> _participantsTypedStorage;
        
        /// <summary>
        /// _ticketsCountTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Ajuna.NetApi.Model.Types.Primitive.U32> _ticketsCountTypedStorage;
        
        /// <summary>
        /// _ticketsTypedStorage typed storage field
        /// </summary>
        private TypedMapStorage<SubstrateNET.NetApi.Generated.Model.sp_core.crypto.AccountId32> _ticketsTypedStorage;
        
        /// <summary>
        /// _callIndicesTypedStorage typed storage field
        /// </summary>
        private TypedStorage<SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31> _callIndicesTypedStorage;
        
        /// <summary>
        /// LotteryStorage constructor.
        /// </summary>
        public LotteryStorage(IStorageDataProvider storageDataProvider, List<IStorageChangeDelegate> storageChangeDelegates)
        {
            this.LotteryIndexTypedStorage = new TypedStorage<Ajuna.NetApi.Model.Types.Primitive.U32>("Lottery.LotteryIndex", storageDataProvider, storageChangeDelegates);
            this.LotteryTypedStorage = new TypedStorage<SubstrateNET.NetApi.Generated.Model.pallet_lottery.LotteryConfig>("Lottery.Lottery", storageDataProvider, storageChangeDelegates);
            this.ParticipantsTypedStorage = new TypedMapStorage<Ajuna.NetApi.Model.Types.Base.BaseTuple<Ajuna.NetApi.Model.Types.Primitive.U32, SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31>>("Lottery.Participants", storageDataProvider, storageChangeDelegates);
            this.TicketsCountTypedStorage = new TypedStorage<Ajuna.NetApi.Model.Types.Primitive.U32>("Lottery.TicketsCount", storageDataProvider, storageChangeDelegates);
            this.TicketsTypedStorage = new TypedMapStorage<SubstrateNET.NetApi.Generated.Model.sp_core.crypto.AccountId32>("Lottery.Tickets", storageDataProvider, storageChangeDelegates);
            this.CallIndicesTypedStorage = new TypedStorage<SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31>("Lottery.CallIndices", storageDataProvider, storageChangeDelegates);
        }
        
        /// <summary>
        /// _lotteryIndexTypedStorage property
        /// </summary>
        public TypedStorage<Ajuna.NetApi.Model.Types.Primitive.U32> LotteryIndexTypedStorage
        {
            get
            {
                return _lotteryIndexTypedStorage;
            }
            set
            {
                _lotteryIndexTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _lotteryTypedStorage property
        /// </summary>
        public TypedStorage<SubstrateNET.NetApi.Generated.Model.pallet_lottery.LotteryConfig> LotteryTypedStorage
        {
            get
            {
                return _lotteryTypedStorage;
            }
            set
            {
                _lotteryTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _participantsTypedStorage property
        /// </summary>
        public TypedMapStorage<Ajuna.NetApi.Model.Types.Base.BaseTuple<Ajuna.NetApi.Model.Types.Primitive.U32, SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31>> ParticipantsTypedStorage
        {
            get
            {
                return _participantsTypedStorage;
            }
            set
            {
                _participantsTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _ticketsCountTypedStorage property
        /// </summary>
        public TypedStorage<Ajuna.NetApi.Model.Types.Primitive.U32> TicketsCountTypedStorage
        {
            get
            {
                return _ticketsCountTypedStorage;
            }
            set
            {
                _ticketsCountTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _ticketsTypedStorage property
        /// </summary>
        public TypedMapStorage<SubstrateNET.NetApi.Generated.Model.sp_core.crypto.AccountId32> TicketsTypedStorage
        {
            get
            {
                return _ticketsTypedStorage;
            }
            set
            {
                _ticketsTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _callIndicesTypedStorage property
        /// </summary>
        public TypedStorage<SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31> CallIndicesTypedStorage
        {
            get
            {
                return _callIndicesTypedStorage;
            }
            set
            {
                _callIndicesTypedStorage = value;
            }
        }
        
        /// <summary>
        /// Connects to all storages and initializes the change subscription handling.
        /// </summary>
        public async Task InitializeAsync(Ajuna.ServiceLayer.Storage.IStorageDataProvider dataProvider)
        {
            await LotteryIndexTypedStorage.InitializeAsync("Lottery", "LotteryIndex");
            await LotteryTypedStorage.InitializeAsync("Lottery", "Lottery");
            await ParticipantsTypedStorage.InitializeAsync("Lottery", "Participants");
            await TicketsCountTypedStorage.InitializeAsync("Lottery", "TicketsCount");
            await TicketsTypedStorage.InitializeAsync("Lottery", "Tickets");
            await CallIndicesTypedStorage.InitializeAsync("Lottery", "CallIndices");
        }
        
        /// <summary>
        /// Implements any storage change for Lottery.LotteryIndex
        /// </summary>
        [StorageChange("Lottery", "LotteryIndex")]
        public void OnUpdateLotteryIndex(string data)
        {
            LotteryIndexTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> LotteryIndex
        /// </summary>
        public Ajuna.NetApi.Model.Types.Primitive.U32 GetLotteryIndex()
        {
            return LotteryIndexTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for Lottery.Lottery
        /// </summary>
        [StorageChange("Lottery", "Lottery")]
        public void OnUpdateLottery(string data)
        {
            LotteryTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> Lottery
        ///  The configuration for the current lottery.
        /// </summary>
        public SubstrateNET.NetApi.Generated.Model.pallet_lottery.LotteryConfig GetLottery()
        {
            return LotteryTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for Lottery.Participants
        /// </summary>
        [StorageChange("Lottery", "Participants")]
        public void OnUpdateParticipants(string key, string data)
        {
            ParticipantsTypedStorage.Update(key, data);
        }
        
        /// <summary>
        /// >> Participants
        ///  Users who have purchased a ticket. (Lottery Index, Tickets Purchased)
        /// </summary>
        public Ajuna.NetApi.Model.Types.Base.BaseTuple<Ajuna.NetApi.Model.Types.Primitive.U32, SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31> GetParticipants(string key)
        {
            if ((key == null))
            {
                return null;
            }
            if (ParticipantsTypedStorage.Dictionary.TryGetValue(key, out Ajuna.NetApi.Model.Types.Base.BaseTuple<Ajuna.NetApi.Model.Types.Primitive.U32, SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31> result))
            {
                return result;
            }
            else
            {
                return null;
            }
        }
        
        /// <summary>
        /// Implements any storage change for Lottery.TicketsCount
        /// </summary>
        [StorageChange("Lottery", "TicketsCount")]
        public void OnUpdateTicketsCount(string data)
        {
            TicketsCountTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> TicketsCount
        ///  Total number of tickets sold.
        /// </summary>
        public Ajuna.NetApi.Model.Types.Primitive.U32 GetTicketsCount()
        {
            return TicketsCountTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for Lottery.Tickets
        /// </summary>
        [StorageChange("Lottery", "Tickets")]
        public void OnUpdateTickets(string key, string data)
        {
            TicketsTypedStorage.Update(key, data);
        }
        
        /// <summary>
        /// >> Tickets
        ///  Each ticket's owner.
        /// 
        ///  May have residual storage from previous lotteries. Use `TicketsCount` to see which ones
        ///  are actually valid ticket mappings.
        /// </summary>
        public SubstrateNET.NetApi.Generated.Model.sp_core.crypto.AccountId32 GetTickets(string key)
        {
            if ((key == null))
            {
                return null;
            }
            if (TicketsTypedStorage.Dictionary.TryGetValue(key, out SubstrateNET.NetApi.Generated.Model.sp_core.crypto.AccountId32 result))
            {
                return result;
            }
            else
            {
                return null;
            }
        }
        
        /// <summary>
        /// Implements any storage change for Lottery.CallIndices
        /// </summary>
        [StorageChange("Lottery", "CallIndices")]
        public void OnUpdateCallIndices(string data)
        {
            CallIndicesTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> CallIndices
        ///  The calls stored in this pallet to be used in an active lottery if configured
        ///  by `Config::ValidateCall`.
        /// </summary>
        public SubstrateNET.NetApi.Generated.Model.sp_runtime.bounded.bounded_vec.BoundedVecT31 GetCallIndices()
        {
            return CallIndicesTypedStorage.Get();
        }
    }
}
